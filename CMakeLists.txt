cmake_minimum_required(VERSION 2.8.3)
project(gazebo_tf_injector)

# Find catkin macros and libraries.
find_package(catkin REQUIRED 
    COMPONENTS roscpp tf)

# Find system dependencies.
find_package(gazebo REQUIRED)

###################################
## Catkin-specific configuration ##
###################################
# The catkin_package macro generates cmake config files for your package.
# Declare things to be passed to dependent projects.
# INCLUDE_DIRS: header files of this package.
# LIBRARIES: libraries generated by this project that dependent projects need.
# CATKIN_DEPENDS: catkin_packages dependent projects need.
# DEPENDS: system dependencies of this project that dependent projects need.
catkin_package(
    INCLUDE_DIRS include
    LIBRARIES gazebo_tf_injector
    CATKIN_DEPENDS roscpp tf
)
    
###########
## Build ##
###########
# Specify additional locations of header files.
include_directories(
    include
    ${GAZEBO_INCLUDE_DIRS}
    ${catkin_INCLUDE_DIRS}
)

# Declare the C++ plugin library.
add_library(gazebo_tf_injector SHARED
    src/gazebo_tf_injector.cpp
)

# Add the cmake target dependencies of the library.
target_link_libraries(gazebo_tf_injector
    ${catkin_LIBRARIES}
)

# Compile as C++11.
add_compile_options(-std=c++11)

# Add Gazebo's compile flags.
list(APPEND CMAKE_CXX_FLAGS "${GAZEBO_CXX_FLAGS}")
